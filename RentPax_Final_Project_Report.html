<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>RentPax: Real Estate Investment Analysis Platform - Final Project Report</title>
<style>
@page {
    size: letter;
    margin: 1in;
}
body {
    font-family: "Times New Roman", Times, serif;
    font-size: 12pt;
    line-height: 1.5;
    max-width: 8.5in;
    margin: 0 auto;
    padding: 1in;
    text-align: justify;
}
h1 {
    font-size: 24pt;
    text-align: center;
    font-weight: bold;
    margin-bottom: 5pt;
}
h2 {
    font-size: 14pt;
    font-weight: bold;
    text-transform: uppercase;
    margin-top: 20pt;
    margin-bottom: 10pt;
}
h3 {
    font-size: 12pt;
    font-weight: bold;
    font-style: italic;
    margin-top: 15pt;
    margin-bottom: 8pt;
}
h4 {
    font-size: 12pt;
    font-weight: bold;
    margin-top: 12pt;
    margin-bottom: 6pt;
}
.title-section {
    text-align: center;
    margin-bottom: 30pt;
}
.authors {
    font-size: 11pt;
    text-align: center;
    margin: 15pt 0;
}
.abstract {
    font-style: italic;
    margin: 20pt 40pt;
    font-size: 10pt;
}
.abstract-title {
    font-weight: bold;
    font-style: italic;
}
.keywords {
    margin: 10pt 40pt 20pt 40pt;
    font-size: 10pt;
}
table {
    border-collapse: collapse;
    width: 100%;
    margin: 15pt 0;
    font-size: 10pt;
}
th, td {
    border: 1px solid black;
    padding: 6pt 8pt;
    text-align: left;
}
th {
    background-color: #f0f0f0;
    font-weight: bold;
}
.diagram-box {
    border: 2px solid black;
    padding: 15pt;
    margin: 15pt 0;
    background-color: #fafafa;
    font-family: "Courier New", monospace;
    font-size: 9pt;
    white-space: pre;
    overflow-x: auto;
}
.figure-caption {
    text-align: center;
    font-size: 10pt;
    font-style: italic;
    margin: 10pt 0;
}
.reference {
    margin-left: 20pt;
    text-indent: -20pt;
    margin-bottom: 8pt;
    font-size: 10pt;
}
ul, ol {
    margin-left: 20pt;
}
li {
    margin-bottom: 5pt;
}
.sprint-box {
    border: 1px solid #ccc;
    padding: 10pt;
    margin: 10pt 0;
    background-color: #f9f9f9;
}
.page-break {
    page-break-before: always;
}
</style>
</head>
<body>

<div class="title-section">
<h1>RentPax: Real Estate Investment Analysis Platform</h1>
<p style="font-size: 14pt; font-weight: bold;">Final Project Report</p>
</div>

<div class="authors">
<p><strong>Joel Henry</strong> and <strong>Manan</strong></p>
<p>Department of Computer Science</p>
<p>December 2024</p>
</div>

<div class="abstract">
<p><span class="abstract-title">Abstract&mdash;</span>This paper presents RentPax, a comprehensive web-based real estate investment analysis platform designed to assist investors in making data-driven property investment decisions. The application integrates real-time property data from the RentCast API and implements advanced financial calculations including mortgage amortization, cap rate, cash-on-cash return metrics, and debt-to-income based affordability analysis. Built using modern web technologies including Next.js 14, TypeScript, PostgreSQL, and TailwindCSS, RentPax differentiates itself from existing solutions by offering a complete end-to-end solution that combines property valuation, comparable property analysis, affordability calculations based on lending industry standards, 30-year financial projections with interactive data visualizations, and portfolio management capabilities. The platform was developed following an Agile software development methodology with iterative sprints, resulting in a production-ready application deployed on Vercel with a PostgreSQL database hosted on Railway. Testing demonstrates the system's ability to accurately calculate financial metrics and provide actionable investment insights to users.</p>
</div>

<div class="keywords">
<p><strong><em>Keywords&mdash;</em></strong><em>real estate investment, property analysis, financial modeling, web application, Next.js, TypeScript, mortgage calculation, portfolio management, data visualization, PropTech</em></p>
</div>

<h2>I. Introduction</h2>

<p>Real estate investment remains one of the most popular wealth-building strategies in the United States, with the rental property market valued at over $4.5 trillion as of 2024 [1]. However, many potential investors face significant barriers to entry, including the complexity of financial analysis, difficulty in accessing reliable property data, and uncertainty about investment viability. Traditional methods of property analysis often require expensive software, professional consultants, or manual calculations that are prone to error [2].</p>

<p>This paper introduces RentPax, an innovative web-based platform that addresses these challenges by providing instant, comprehensive real estate investment analysis. The platform integrates multiple data sources and analytical capabilities into a single, user-friendly interface that enables both novice and experienced investors to evaluate rental properties with professional-grade accuracy.</p>

<p>The primary objectives of this project were to: (1) develop a scalable web application for property investment analysis, (2) implement accurate financial calculations following industry standards, (3) create an intuitive user interface accessible to users regardless of technical expertise, (4) enable portfolio management for tracking multiple investment properties, and (5) provide interactive data visualizations for 30-year financial projections.</p>

<p>The remainder of this paper is organized as follows: Section II presents the literature survey and state of the art in real estate technology. Section III describes the software development process. Section IV details the system design. Section V covers the implementation. Section VI presents results and discussion. Section VII provides conclusions and future work.</p>

<h2>II. Literature Survey and State of the Art</h2>

<h3>A. Real Estate Technology Landscape</h3>

<p>The real estate technology (PropTech) industry has experienced significant growth, with global investment reaching $32 billion in 2023 [3]. This sector encompasses various applications including property search platforms, investment analysis tools, property management software, and automated valuation models (AVMs).</p>

<p>Automated Valuation Models represent a critical technology for property analysis. As described by Downie and Robson [4], AVMs use statistical modeling techniques to estimate property values based on comparable sales data, property characteristics, and market trends. Major providers like CoreLogic and Black Knight have developed sophisticated AVMs that are widely used by lenders and investors [5].</p>

<h3>B. Existing Solutions and Competitive Analysis</h3>

<p>Several platforms currently exist in the real estate investment analysis space. Table I provides a comparison of RentPax with major competitors.</p>

<p style="text-align: center;"><strong>TABLE I</strong><br><em>Comparison of Real Estate Investment Analysis Platforms</em></p>

<table>
<tr>
<th>Feature</th>
<th>Zillow</th>
<th>Redfin</th>
<th>BiggerPockets</th>
<th>Mashvisor</th>
<th>RentPax</th>
</tr>
<tr>
<td>Property Valuation</td>
<td>Yes</td>
<td>Yes</td>
<td>Limited</td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr>
<td>Rent Estimation</td>
<td>Yes</td>
<td>Limited</td>
<td>No</td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr>
<td>Cash Flow Analysis</td>
<td>No</td>
<td>No</td>
<td>Calculator</td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr>
<td>Comparable Properties</td>
<td>Yes</td>
<td>Yes</td>
<td>No</td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr>
<td>Interactive Comps Selection</td>
<td>No</td>
<td>No</td>
<td>No</td>
<td>No</td>
<td>Yes</td>
</tr>
<tr>
<td>DTI-Based Affordability</td>
<td>Basic</td>
<td>Basic</td>
<td>No</td>
<td>No</td>
<td>Yes (28/36 Rule)</td>
</tr>
<tr>
<td>30-Year Projections</td>
<td>No</td>
<td>No</td>
<td>Limited</td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr>
<td>Portfolio Management</td>
<td>No</td>
<td>No</td>
<td>Yes</td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr>
<td>Interactive Charts</td>
<td>Limited</td>
<td>Limited</td>
<td>No</td>
<td>Yes</td>
<td>Yes (4 Chart Types)</td>
</tr>
<tr>
<td>Free Tier</td>
<td>Yes</td>
<td>Yes</td>
<td>Limited</td>
<td>No ($199/mo)</td>
<td>Yes</td>
</tr>
<tr>
<td>Export (CSV/PDF)</td>
<td>No</td>
<td>No</td>
<td>No</td>
<td>Yes</td>
<td>Yes</td>
</tr>
</table>

<p><strong>Zillow</strong> is the largest online real estate marketplace in the United States, offering property valuations through their proprietary Zestimate algorithm. While Zillow provides extensive property data, it lacks comprehensive investment analysis features such as cash flow calculations and return metrics [6].</p>

<p><strong>Redfin</strong> offers similar property search and valuation capabilities with a focus on home buyers rather than investors. Their platform provides basic affordability tools but does not include detailed investment metrics [7].</p>

<p><strong>BiggerPockets</strong> is a community-focused platform for real estate investors that provides educational content, forums, and basic calculators. While valuable for learning, their tools lack integration with real-time property data [8].</p>

<p><strong>Mashvisor</strong> represents the closest competitor to RentPax, offering property analytics specifically for investors. However, Mashvisor requires expensive subscriptions starting at $199/month, making it inaccessible to many beginning investors [9].</p>

<h3>C. Where RentPax Fits</h3>

<p>RentPax addresses a gap in the market by providing professional-grade investment analysis with the following differentiating features:</p>

<ol>
<li><strong>DTI-Based Affordability Analysis:</strong> Unlike competitors that provide basic affordability calculators, RentPax implements proper debt-to-income ratio calculations following lending industry standards (28% front-end, 36% back-end DTI ratios) as specified by federal mortgage guidelines [10].</li>

<li><strong>Interactive Comparable Property Selection:</strong> Users can select specific comparable properties to customize rent estimates, providing more accurate analysis than automated-only approaches. This feature is unique among the analyzed competitors.</li>

<li><strong>Comprehensive Free Tier:</strong> While competitors like Mashvisor charge premium prices ($199/month), RentPax provides complete functionality without requiring paid subscriptions, democratizing access to professional investment analysis tools.</li>

<li><strong>Multi-Tier Fallback Architecture:</strong> The platform gracefully handles missing data through a multi-tier fallback system for property photos (RentCast -> Google Street View -> Mapbox -> Unsplash), ensuring functionality even without premium API access.</li>

<li><strong>Rich Data Visualization:</strong> Four distinct chart types (cash flow breakdown, ROI pie chart, expense distribution, and 30-year projection line chart) provide comprehensive visual analysis not available in most competing free tools.</li>
</ol>

<h3>D. Financial Analysis Standards</h3>

<p>The accuracy of financial calculations is critical for investment decisions. RentPax implements industry-standard formulas for mortgage amortization, cap rate calculation, and cash-on-cash return analysis as documented by the Consumer Financial Protection Bureau and real estate investment literature [10][11].</p>

<h2>III. Software Development Process</h2>

<h3>A. Agile Methodology Overview</h3>

<p>The development of RentPax followed an Agile software development methodology, specifically an adapted Scrum framework suitable for a two-person team. Agile was selected over traditional waterfall methodology due to its flexibility in accommodating changing requirements, emphasis on iterative development, and suitability for web application projects where user feedback is essential [12].</p>

<p>The Agile principles applied in this project included:</p>
<ul>
<li>Iterative development with working software delivered at the end of each sprint</li>
<li>Regular sprint planning and retrospective meetings</li>
<li>Continuous integration and deployment</li>
<li>Adaptation to changing requirements and feedback</li>
<li>Face-to-face communication between team members</li>
</ul>

<h3>B. Team Structure and Roles</h3>

<p>The development team consisted of two members:</p>
<ul>
<li><strong>Joel Henry:</strong> Full-stack development, system architecture, database design, API integration, and project documentation</li>
<li><strong>Manan:</strong> Frontend development, UI/UX design, testing, and quality assurance</li>
</ul>

<p>Both team members participated in all Agile ceremonies and contributed to sprint planning and review sessions.</p>

<h3>C. Sprint Details</h3>

<h4>Sprint 1: Project Setup and Core Architecture (2 weeks)</h4>
<div class="sprint-box">
<p><strong>Sprint Goal:</strong> Establish project foundation with development environment and core architecture</p>
<p><strong>User Stories Completed:</strong></p>
<ul>
<li>As a developer, I need a Next.js project setup with TypeScript so that we have a type-safe development environment</li>
<li>As a developer, I need a PostgreSQL database with Prisma ORM so that we can store user and property data</li>
<li>As a developer, I need authentication setup so that users can create accounts and log in</li>
</ul>
<p><strong>Deliverables:</strong> Project repository, database schema, authentication system, basic page routing</p>
<p><strong>Sprint Retrospective:</strong> Successfully established foundation. Identified need for more detailed API documentation.</p>
</div>

<h4>Sprint 2: Property Analysis Core (2 weeks)</h4>
<div class="sprint-box">
<p><strong>Sprint Goal:</strong> Implement core property analysis functionality with RentCast API integration</p>
<p><strong>User Stories Completed:</strong></p>
<ul>
<li>As a user, I want to enter a property address so that I can analyze its investment potential</li>
<li>As a user, I want to see property valuation and rent estimates so that I understand the property's financial profile</li>
<li>As a user, I want to see comparable properties so that I can validate rent estimates</li>
</ul>
<p><strong>Deliverables:</strong> Address autocomplete, RentCast API integration, property data display, comparable properties listing</p>
<p><strong>Sprint Retrospective:</strong> API integration successful. Need to improve error handling for API failures.</p>
</div>

<h4>Sprint 3: Financial Calculations (2 weeks)</h4>
<div class="sprint-box">
<p><strong>Sprint Goal:</strong> Implement comprehensive financial calculations and metrics</p>
<p><strong>User Stories Completed:</strong></p>
<ul>
<li>As a user, I want to see PITI calculations so that I know my total monthly payment</li>
<li>As a user, I want to adjust interest rate and down payment so that I can model different scenarios</li>
<li>As a user, I want to see cap rate and cash-on-cash return so that I can evaluate investment returns</li>
<li>As a user, I want to know if a property is affordable based on my income so that I can make informed decisions</li>
</ul>
<p><strong>Deliverables:</strong> Finance calculation library, PITI/cash flow/cap rate calculations, affordability analysis, customizable inputs</p>
<p><strong>Sprint Retrospective:</strong> Calculations verified against industry standards. Charts integration needed.</p>
</div>

<h4>Sprint 4: Visualization and UI Enhancement (2 weeks)</h4>
<div class="sprint-box">
<p><strong>Sprint Goal:</strong> Add data visualization and improve user interface</p>
<p><strong>User Stories Completed:</strong></p>
<ul>
<li>As a user, I want to see charts showing cash flow breakdown so that I understand where money goes</li>
<li>As a user, I want to see 30-year projections so that I can plan long-term</li>
<li>As a user, I want to select specific comparable properties so that I can customize my analysis</li>
</ul>
<p><strong>Deliverables:</strong> Recharts integration, cash flow chart, ROI pie chart, expense breakdown chart, projection chart, interactive comps selector</p>
<p><strong>Sprint Retrospective:</strong> Visualization significantly improved user experience. Mobile responsiveness needs attention.</p>
</div>

<h4>Sprint 5: Portfolio Management and User Features (2 weeks)</h4>
<div class="sprint-box">
<p><strong>Sprint Goal:</strong> Implement portfolio management and enhance user experience</p>
<p><strong>User Stories Completed:</strong></p>
<ul>
<li>As a user, I want to save properties to my portfolio so that I can track multiple investments</li>
<li>As a user, I want to see portfolio summary statistics so that I understand my overall investment position</li>
<li>As a user, I want to edit and delete saved properties so that I can manage my portfolio</li>
<li>As a user, I want to save my income profile so that affordability is calculated automatically</li>
</ul>
<p><strong>Deliverables:</strong> Portfolio CRUD operations, portfolio dashboard with summary statistics, property editing modal, income profile management</p>
<p><strong>Sprint Retrospective:</strong> Portfolio features completed successfully. Export functionality identified as priority.</p>
</div>

<h4>Sprint 6: Testing, Export, and Deployment (2 weeks)</h4>
<div class="sprint-box">
<p><strong>Sprint Goal:</strong> Complete testing, add export functionality, and deploy to production</p>
<p><strong>User Stories Completed:</strong></p>
<ul>
<li>As a user, I want to export analysis to CSV/PDF so that I can share and archive results</li>
<li>As a user, I want the application to load quickly so that I have a good experience</li>
<li>As a developer, I need comprehensive error handling so that the app is resilient</li>
</ul>
<p><strong>Deliverables:</strong> Export functionality, error handling improvements, performance optimization, Vercel deployment, production database migration</p>
<p><strong>Sprint Retrospective:</strong> Successful deployment. Application ready for user testing.</p>
</div>

<h3>D. Agile Artifacts</h3>

<p><strong>Product Backlog:</strong> Maintained in GitHub Issues, prioritized by business value and technical dependencies.</p>

<p><strong>Sprint Backlog:</strong> Created at the beginning of each sprint from product backlog items, broken down into technical tasks.</p>

<p><strong>Burndown Charts:</strong> Tracked progress within each sprint to ensure timely delivery.</p>

<p><strong>Definition of Done:</strong> A feature was considered complete when: (1) code implemented and reviewed, (2) unit tests passing, (3) integration tested, (4) deployed to staging environment, and (5) documentation updated.</p>

<div class="page-break"></div>

<h2>IV. System Design</h2>

<h3>A. System Architecture Overview</h3>

<p>RentPax follows a modern three-tier architecture pattern consisting of a presentation layer (React frontend), application layer (Next.js API routes), and data layer (PostgreSQL database). The system also integrates with external services including RentCast for property data and OpenStreetMap for address geocoding.</p>

<p style="text-align: center;"><strong>Fig. 1.</strong> System Architecture Block Diagram</p>

<div class="diagram-box">
+-----------------------------------------------------------------------------------+
|                              RENTPAX SYSTEM ARCHITECTURE                          |
+-----------------------------------------------------------------------------------+
|                                                                                   |
|  +---------------------------+          +-----------------------------------+     |
|  |     PRESENTATION LAYER    |          |        EXTERNAL SERVICES          |     |
|  |       (React Frontend)    |          |                                   |     |
|  +---------------------------+          |  +-------------+  +-------------+ |     |
|  |                           |          |  | RentCast    |  | OpenStreet  | |     |
|  |  +---------------------+  |          |  | API         |  | Map         | |     |
|  |  | Pages               |  |          |  | - AVM       |  | - Geocoding | |     |
|  |  | - Home (Analysis)   |  |          |  | - Rent Est  |  | - Address   | |     |
|  |  | - Portfolio         |  |          |  | - Comps     |  |   Search    | |     |
|  |  | - Login/Register    |  |          |  +-------------+  +-------------+ |     |
|  |  +---------------------+  |          |                                   |     |
|  |           |               |          |  +-------------+  +-------------+ |     |
|  |  +---------------------+  |          |  | Google Maps |  | Unsplash    | |     |
|  |  | Components          |  |          |  | Street View |  | (Fallback   | |     |
|  |  | - AddressAuto       |  |          |  | - Photos    |  |  Photos)    | |     |
|  |  | - AnalysisResults   |  |          |  +-------------+  +-------------+ |     |
|  |  | - CompsSelector     |  |          +-----------------------------------+     |
|  |  | - Charts (4 types)  |  |                        ^                          |
|  |  | - PropertyPhotos    |  |                        |                          |
|  |  | - SettingsDrawer    |  |                        |                          |
|  |  +---------------------+  |                        |                          |
|  +------------|--------------+                        |                          |
|               |                                       |                          |
|               v                                       |                          |
|  +---------------------------+                        |                          |
|  |     APPLICATION LAYER     |------------------------+                          |
|  |    (Next.js API Routes)   |                                                   |
|  +---------------------------+                                                   |
|  |                           |                                                   |
|  |  +---------------------+  |          +-----------------------------------+     |
|  |  | API Endpoints       |  |          |         SERVICES LAYER            |     |
|  |  | - /api/analyze      |  |          +-----------------------------------+     |
|  |  | - /api/portfolio/*  |  |          |  +-------------+  +-------------+ |     |
|  |  | - /api/auth/*       |  |--------->|  | rentcast.ts |  | export.ts   | |     |
|  |  | - /api/profile      |  |          |  | - fetch     |  | - CSV       | |     |
|  |  | - /api/register     |  |          |  | - search    |  | - PDF       | |     |
|  |  +---------------------+  |          |  +-------------+  +-------------+ |     |
|  |           |               |          |                                   |     |
|  |  +---------------------+  |          |  +-------------+  +-------------+ |     |
|  |  | Libraries           |  |          |  | photos.ts   |  | portfolio.ts| |     |
|  |  | - finance.ts        |  |          |  | - fetch     |  | - CRUD ops  | |     |
|  |  | - projections.ts    |  |          |  | - fallback  |  +-------------+ |     |
|  |  +---------------------+  |          |  +-------------+                  |     |
|  +------------|--------------+          +-----------------------------------+     |
|               |                                                                   |
|               v                                                                   |
|  +---------------------------+                                                   |
|  |        DATA LAYER         |                                                   |
|  |   (PostgreSQL + Prisma)   |                                                   |
|  +---------------------------+                                                   |
|  |                           |                                                   |
|  |  +---------------------+  |                                                   |
|  |  | Database Models     |  |                                                   |
|  |  | - User              |  |                                                   |
|  |  | - Profile           |  |                                                   |
|  |  | - Property          |  |                                                   |
|  |  +---------------------+  |                                                   |
|  |                           |                                                   |
|  +---------------------------+                                                   |
|                                                                                   |
+-----------------------------------------------------------------------------------+
</div>

<h3>B. Component Design</h3>

<p>The system is organized into distinct modules following the separation of concerns principle. Figure 2 illustrates the component relationships.</p>

<p style="text-align: center;"><strong>Fig. 2.</strong> Component Interaction Diagram</p>

<div class="diagram-box">
+-------------------+     +-------------------+     +-------------------+
|    User Input     |     |   Address Auto    |     |  Settings Drawer  |
|   (Address, $)    |---->|    Complete       |     |  (Rates, %)       |
+-------------------+     +--------+----------+     +---------+---------+
                                   |                          |
                                   v                          v
                          +--------+--------------------------+---------+
                          |              Main Page (page.tsx)           |
                          |     Coordinates all analysis components     |
                          +-------------------+-------------------------+
                                              |
              +-------------------------------+-------------------------------+
              |                               |                               |
              v                               v                               v
+-------------+-------------+   +-------------+-------------+   +-------------+-------------+
|     POST /api/analyze     |   |   RentCast API Service    |   |   Export Service          |
|  - Validate inputs        |   |  - fetchRentCastWithComps |   |  - exportToCSV()          |
|  - Call RentCast          |   |  - searchAddresses        |   |  - exportToPDF()          |
|  - Calculate finances     |   |  - Multi-tier fallback    |   |                           |
+-------------+-------------+   +---------------------------+   +---------------------------+
              |
              v
+-------------+-------------+
|    Finance Library        |
|   (src/lib/finance.ts)    |
|  - amortizedPI()          |
|  - calcFinance()          |
|  - calcAffordability()    |
+-------------+-------------+
              |
              v
+-------------+-------------+
|  Projections Library      |
|  (src/lib/projections.ts) |
|  - calcProjections()      |
|  - 30-year modeling       |
+-------------+-------------+
              |
              v
+-------------------+-------------------+-------------------+-------------------+
|                   |                   |                   |                   |
v                   v                   v                   v                   v
+---------------+  +---------------+  +---------------+  +---------------+  +---------------+
| Analysis      |  | Property      |  | Comps         |  | Charts        |  | Projections   |
| Results       |  | Photos        |  | Selector      |  | (4 types)     |  | View          |
+---------------+  +---------------+  +---------------+  +---------------+  +---------------+
</div>

<h3>C. Database Design</h3>

<p>The database schema was designed to support user authentication, profile management, and property portfolio tracking. Figure 3 shows the entity-relationship diagram.</p>

<p style="text-align: center;"><strong>Fig. 3.</strong> Entity-Relationship Diagram</p>

<div class="diagram-box">
+------------------+          +------------------+          +------------------+
|      USER        |          |     PROFILE      |          |    PROPERTY      |
+------------------+          +------------------+          +------------------+
| PK: id (CUID)    |<-------->| PK: id (CUID)    |          | PK: id (CUID)    |
| email (unique)   |    1:1   | FK: userId       |    1:N   | FK: userId       |
| password (hash)  |          | incomeAnnual     |<-------->| address          |
| createdAt        |          | otherDebtMonthly |          | homeValue        |
+------------------+          +------------------+          | beds, baths, sqft|
                                                            | taxAnnual        |
                                                            | hoaMonthly       |
                                                            | insuranceAnnual  |
                                                            | rentEstimate     |
                                                            | interestRate     |
                                                            | downPaymentPct   |
                                                            | vacancyRate      |
                                                            | maintenanceRate  |
                                                            | managementRate   |
                                                            | piti             |
                                                            | cashFlow         |
                                                            | capRate          |
                                                            | coc              |
                                                            | notes            |
                                                            | createdAt        |
                                                            | updatedAt        |
                                                            +------------------+
</div>

<h3>D. API Design</h3>

<p>The application exposes RESTful API endpoints for all core functionality. Table II summarizes the API endpoints.</p>

<p style="text-align: center;"><strong>TABLE II</strong><br><em>API Endpoints Summary</em></p>

<table>
<tr>
<th>Endpoint</th>
<th>Method</th>
<th>Description</th>
<th>Authentication</th>
</tr>
<tr>
<td>/api/analyze</td>
<td>POST</td>
<td>Analyze property investment metrics</td>
<td>Optional</td>
</tr>
<tr>
<td>/api/auth/[...nextauth]</td>
<td>GET/POST</td>
<td>Authentication (login/logout)</td>
<td>No</td>
</tr>
<tr>
<td>/api/register</td>
<td>POST</td>
<td>User registration</td>
<td>No</td>
</tr>
<tr>
<td>/api/profile</td>
<td>GET/POST</td>
<td>User profile management</td>
<td>Required</td>
</tr>
<tr>
<td>/api/portfolio</td>
<td>GET/POST</td>
<td>List/save portfolio properties</td>
<td>Required</td>
</tr>
<tr>
<td>/api/portfolio/[id]</td>
<td>GET/PUT/DELETE</td>
<td>Individual property operations</td>
<td>Required</td>
</tr>
</table>

<h3>E. Security Design</h3>

<p>Security was a primary consideration in the system design:</p>

<ul>
<li><strong>Password Security:</strong> All passwords are hashed using bcrypt with 10 salt rounds before storage</li>
<li><strong>Session Management:</strong> JWT-based sessions with signed tokens using NEXTAUTH_SECRET</li>
<li><strong>Input Validation:</strong> All API inputs validated using Zod schemas</li>
<li><strong>SQL Injection Prevention:</strong> Prisma ORM with parameterized queries</li>
<li><strong>HTTPS:</strong> Production deployment enforces TLS encryption</li>
</ul>

<div class="page-break"></div>

<h2>V. Implementation</h2>

<h3>A. Technology Stack</h3>

<p>The implementation utilized modern web technologies selected for their performance, developer experience, and community support:</p>

<ul>
<li><strong>Frontend Framework:</strong> Next.js 14 with React 18.3.1 and App Router</li>
<li><strong>Language:</strong> TypeScript 5.5.4 for type safety</li>
<li><strong>Styling:</strong> TailwindCSS 3.4.9 for responsive design</li>
<li><strong>Database:</strong> PostgreSQL with Prisma 5.18.0 ORM</li>
<li><strong>Authentication:</strong> NextAuth.js 5.0.0-beta.20</li>
<li><strong>Charts:</strong> Recharts 2.12.7 for data visualization</li>
<li><strong>Export:</strong> PapaParse 5.4.1 (CSV), HTML-based PDF generation</li>
<li><strong>Validation:</strong> Zod 4.1.13 for schema validation</li>
<li><strong>Icons:</strong> Lucide React 0.400.0</li>
</ul>

<h3>B. Function Reference Table</h3>

<p>Table III provides a comprehensive list of the major functions implemented in the system.</p>

<p style="text-align: center;"><strong>TABLE III</strong><br><em>Function Reference Table</em></p>

<table>
<tr>
<th>Function Name</th>
<th>File Location</th>
<th>Description</th>
</tr>
<tr>
<td colspan="3" style="background-color: #e0e0e0;"><strong>Financial Calculations (src/lib/finance.ts)</strong></td>
</tr>
<tr>
<td>amortizedPI()</td>
<td>finance.ts:15</td>
<td>Calculates monthly principal and interest payment using standard amortization formula</td>
</tr>
<tr>
<td>calcFinance()</td>
<td>finance.ts:25</td>
<td>Main finance calculation function returning PITI, cash flow, cap rate, COC, NOI, break-even rent</td>
</tr>
<tr>
<td>calcAffordability()</td>
<td>finance.ts:85</td>
<td>Calculates DTI-based affordability using 28/36 rule and returns max payment amounts</td>
</tr>
<tr>
<td colspan="3" style="background-color: #e0e0e0;"><strong>Projections (src/lib/projections.ts)</strong></td>
</tr>
<tr>
<td>calcProjections()</td>
<td>projections.ts:12</td>
<td>Generates 30-year financial projections with appreciation, rent growth, and equity accumulation</td>
</tr>
<tr>
<td colspan="3" style="background-color: #e0e0e0;"><strong>RentCast Service (src/services/rentcast.ts)</strong></td>
</tr>
<tr>
<td>fetchRentCastWithComps()</td>
<td>rentcast.ts:45</td>
<td>Fetches property AVM, rent estimates, and comparable properties from RentCast API</td>
</tr>
<tr>
<td>searchAddresses()</td>
<td>rentcast.ts:120</td>
<td>Provides address autocomplete using OpenStreetMap Nominatim API</td>
</tr>
<tr>
<td>fetchPropertyPhotos()</td>
<td>rentcast.ts:180</td>
<td>Multi-tier photo fetching with fallback (RentCast -> Google -> Mapbox -> Unsplash)</td>
</tr>
<tr>
<td colspan="3" style="background-color: #e0e0e0;"><strong>Export Service (src/services/export.ts)</strong></td>
</tr>
<tr>
<td>exportToCSV()</td>
<td>export.ts:12</td>
<td>Exports analysis data to CSV format using PapaParse</td>
</tr>
<tr>
<td>exportToPDF()</td>
<td>export.ts:45</td>
<td>Generates HTML-based PDF report with styling</td>
</tr>
<tr>
<td colspan="3" style="background-color: #e0e0e0;"><strong>Portfolio Service (src/services/portfolio.ts)</strong></td>
</tr>
<tr>
<td>fetchPortfolio()</td>
<td>portfolio.ts:8</td>
<td>Retrieves all properties in user's portfolio</td>
</tr>
<tr>
<td>saveProperty()</td>
<td>portfolio.ts:18</td>
<td>Saves analyzed property to user's portfolio</td>
</tr>
<tr>
<td>updateProperty()</td>
<td>portfolio.ts:35</td>
<td>Updates existing property in portfolio</td>
</tr>
<tr>
<td>deleteProperty()</td>
<td>portfolio.ts:52</td>
<td>Removes property from portfolio</td>
</tr>
<tr>
<td colspan="3" style="background-color: #e0e0e0;"><strong>API Route Handlers</strong></td>
</tr>
<tr>
<td>POST /api/analyze</td>
<td>api/analyze/route.ts</td>
<td>Main analysis endpoint - validates input, fetches data, calculates metrics</td>
</tr>
<tr>
<td>POST /api/register</td>
<td>api/register/route.ts</td>
<td>User registration with bcrypt password hashing</td>
</tr>
<tr>
<td>GET/POST /api/profile</td>
<td>api/profile/route.ts</td>
<td>User profile CRUD operations</td>
</tr>
<tr>
<td>GET/POST /api/portfolio</td>
<td>api/portfolio/route.ts</td>
<td>Portfolio listing and property saving</td>
</tr>
<tr>
<td colspan="3" style="background-color: #e0e0e0;"><strong>React Components</strong></td>
</tr>
<tr>
<td>AddressAutocomplete</td>
<td>components/AddressAutocomplete.tsx</td>
<td>Real-time address suggestions with 300ms debounce</td>
</tr>
<tr>
<td>AnalysisResults</td>
<td>components/analysis/AnalysisResults.tsx</td>
<td>Main results display with metrics, charts, and actions</td>
</tr>
<tr>
<td>CompsSelector</td>
<td>components/CompsSelector.tsx</td>
<td>Interactive comparable property selection with custom rent input</td>
</tr>
<tr>
<td>PropertyPhotos</td>
<td>components/PropertyPhotos.tsx</td>
<td>Property image gallery with fallback handling</td>
</tr>
<tr>
<td>SettingsDrawer</td>
<td>components/SettingsDrawer.tsx</td>
<td>Customizable expense assumption panel</td>
</tr>
<tr>
<td>ProjectionsView</td>
<td>components/ProjectionsView.tsx</td>
<td>30-year projection display with chart</td>
</tr>
<tr>
<td>CashFlowChart</td>
<td>components/charts/CashFlowChart.tsx</td>
<td>Bar chart showing income vs expenses breakdown</td>
</tr>
<tr>
<td>ROIChart</td>
<td>components/charts/ROIChart.tsx</td>
<td>Pie chart showing return on investment composition</td>
</tr>
<tr>
<td>ExpenseBreakdown</td>
<td>components/charts/ExpenseBreakdown.tsx</td>
<td>Pie chart showing expense category distribution</td>
</tr>
<tr>
<td>ProjectionChart</td>
<td>components/charts/ProjectionChart.tsx</td>
<td>Line chart showing 30-year financial projections</td>
</tr>
</table>

<h3>C. Calling Graph</h3>

<p>Figure 4 illustrates the function calling relationships for the main analysis flow.</p>

<p style="text-align: center;"><strong>Fig. 4.</strong> Function Calling Graph - Property Analysis Flow</p>

<div class="diagram-box">
                            +------------------------+
                            |    User Interaction    |
                            | (Enter Address, Click) |
                            +-----------+------------+
                                        |
                                        v
                            +------------------------+
                            |   AddressAutocomplete  |
                            |    searchAddresses()   |
                            +-----------+------------+
                                        |
                                        v
                            +------------------------+
                            |   handleAnalyze()      |
                            |   (Main Page)          |
                            +-----------+------------+
                                        |
                                        v
                            +------------------------+
                            |   POST /api/analyze    |
                            +-----------+------------+
                                        |
              +-------------------------+-------------------------+
              |                                                   |
              v                                                   v
+------------------------+                          +------------------------+
| fetchRentCastWithComps |                          |     calcFinance()      |
|   - RentCast API       |                          |     - amortizedPI()    |
|   - Property AVM       |                          |     - PITI calc        |
|   - Rent estimate      |                          |     - Cash flow        |
|   - Comparables        |                          |     - Cap rate         |
+------------------------+                          |     - COC return       |
              |                                     +------------------------+
              |                                                   |
              v                                                   v
+------------------------+                          +------------------------+
| fetchPropertyPhotos()  |                          | calcAffordability()    |
|   - Google Street View |                          |   - DTI calculations   |
|   - Mapbox (fallback)  |                          |   - Max payment        |
|   - Unsplash (fallback)|                          +------------------------+
+------------------------+                                        |
                                                                  v
                                                    +------------------------+
                                                    |  Return AnalysisData   |
                                                    +-----------+------------+
                                                                |
              +-------------------------------------------------+
              |                   |                   |         |
              v                   v                   v         v
+---------------+  +---------------+  +---------------+  +---------------+
| Analysis      |  | Property      |  | Comps         |  | Charts &      |
| Results       |  | Photos        |  | Selector      |  | Projections   |
+---------------+  +---------------+  +---------------+  +---------------+
</div>

<h3>D. Key Algorithm Implementation</h3>

<p>The core financial calculation algorithm implements standard mortgage amortization formulas. The monthly payment is calculated using:</p>

<p style="text-align: center;"><em>M = P &times; [r(1+r)<sup>n</sup>] / [(1+r)<sup>n</sup> - 1]</em></p>

<p>Where M is the monthly payment, P is the principal loan amount, r is the monthly interest rate, and n is the total number of payments.</p>

<p>The implementation in TypeScript:</p>

<pre style="background-color: #f5f5f5; padding: 10pt; font-size: 9pt; overflow-x: auto;">
export function amortizedPI(loan: number, annualRate: number, years: number): number {
  const monthlyRate = annualRate / 100 / 12;
  const n = years * 12;
  if (monthlyRate === 0) return loan / n;
  return loan * (monthlyRate * Math.pow(1 + monthlyRate, n)) /
         (Math.pow(1 + monthlyRate, n) - 1);
}
</pre>

<h3>E. Deployment Architecture</h3>

<p>The application is deployed using the following infrastructure:</p>

<ul>
<li><strong>Frontend/API Hosting:</strong> Vercel (Edge Network with automatic scaling)</li>
<li><strong>Database:</strong> PostgreSQL on Railway (managed database service)</li>
<li><strong>Domain:</strong> rentpaxmvpplus.vercel.app</li>
<li><strong>CI/CD:</strong> GitHub integration with automatic deployments on push</li>
</ul>

<div class="page-break"></div>

<h2>VI. Results and Discussion</h2>

<h3>A. System Performance</h3>

<p>The deployed RentPax application demonstrates satisfactory performance metrics:</p>

<ul>
<li><strong>Initial Page Load:</strong> &lt; 2 seconds (with Vercel edge caching)</li>
<li><strong>Property Analysis Request:</strong> 1-3 seconds (depending on RentCast API response)</li>
<li><strong>Database Operations:</strong> &lt; 100ms (Prisma optimized queries)</li>
<li><strong>Chart Rendering:</strong> &lt; 500ms (Recharts with React optimization)</li>
</ul>

<h3>B. Calculation Accuracy Validation</h3>

<p>Financial calculations were validated against industry-standard tools and manual calculations. Table IV shows validation results for a sample property.</p>

<p style="text-align: center;"><strong>TABLE IV</strong><br><em>Calculation Validation Results</em></p>

<table>
<tr>
<th>Metric</th>
<th>RentPax Result</th>
<th>Manual Calculation</th>
<th>Difference</th>
</tr>
<tr>
<td>Monthly P&I ($300K, 7%, 30yr)</td>
<td>$1,995.91</td>
<td>$1,995.91</td>
<td>0.00%</td>
</tr>
<tr>
<td>PITI (with taxes, insurance)</td>
<td>$2,445.91</td>
<td>$2,445.91</td>
<td>0.00%</td>
</tr>
<tr>
<td>Monthly Cash Flow</td>
<td>$154.09</td>
<td>$154.09</td>
<td>0.00%</td>
</tr>
<tr>
<td>Cap Rate</td>
<td>5.2%</td>
<td>5.2%</td>
<td>0.00%</td>
</tr>
<tr>
<td>Cash-on-Cash Return</td>
<td>3.1%</td>
<td>3.1%</td>
<td>0.00%</td>
</tr>
</table>

<h3>C. User Interface Evaluation</h3>

<p>The user interface was evaluated based on usability principles:</p>

<ul>
<li><strong>Ease of Use:</strong> Single-page analysis workflow requires minimal navigation</li>
<li><strong>Responsiveness:</strong> Application adapts to mobile, tablet, and desktop viewports</li>
<li><strong>Feedback:</strong> Real-time calculations update as users adjust inputs</li>
<li><strong>Error Handling:</strong> Clear error messages displayed for invalid inputs or API failures</li>
</ul>

<h3>D. Competitive Advantages Demonstrated</h3>

<p>Through implementation and testing, RentPax demonstrated the following advantages over existing solutions:</p>

<ol>
<li><strong>All-in-One Solution:</strong> Combines property valuation, financial analysis, data visualization, and portfolio management in a single platform, eliminating the need for multiple tools.</li>

<li><strong>Accurate DTI-Based Affordability:</strong> Implementation of proper 28/36 DTI ratios provides more accurate affordability assessment than competitors' basic calculators.</li>

<li><strong>Free Access:</strong> Full functionality available without subscription fees, making professional-grade analysis accessible to all investors. Competitors like Mashvisor charge $199/month for similar features.</li>

<li><strong>Interactive Comparable Selection:</strong> Users can select specific comparable properties to customize rent estimates&mdash;a feature not available in competing platforms.</li>

<li><strong>Real Property Data:</strong> Integration with RentCast API provides actual market data rather than estimates.</li>

<li><strong>Comprehensive Visualization:</strong> Four distinct chart types provide deeper insights than competitors' limited visualizations.</li>

<li><strong>Graceful Degradation:</strong> Multi-tier fallback system ensures application functionality even when external services are unavailable.</li>
</ol>

<h3>E. Limitations</h3>

<p>Several limitations were identified during development and testing:</p>

<ul>
<li><strong>API Dependency:</strong> Accuracy depends on RentCast API data availability and quality</li>
<li><strong>Geographic Coverage:</strong> Currently limited to US properties covered by RentCast</li>
<li><strong>Market Assumptions:</strong> 30-year projections assume constant appreciation and rent growth rates</li>
<li><strong>Photo Availability:</strong> Property photos may not be available for all addresses</li>
</ul>

<h2>VII. Conclusion and Future Work</h2>

<h3>A. Conclusion</h3>

<p>This project successfully developed RentPax, a comprehensive real estate investment analysis platform that addresses gaps in the current market. The application integrates property valuation, financial calculations, interactive data visualization, and portfolio management into a single, accessible web application.</p>

<p>Key accomplishments include:</p>
<ul>
<li>Implementation of accurate financial calculations following industry standards</li>
<li>Development of a responsive, user-friendly interface with four distinct chart types</li>
<li>Integration with RentCast API for real-time property data</li>
<li>Successful deployment to production with PostgreSQL database</li>
<li>Creation of a multi-tier fallback system for reliability</li>
<li>Implementation of DTI-based affordability analysis using lending industry standards</li>
</ul>

<p>The Agile development methodology proved effective for this project, allowing iterative refinement based on testing and enabling the team to adapt to challenges encountered during development.</p>

<h3>B. Future Work</h3>

<p>Several enhancements are planned for future development:</p>

<ol>
<li><strong>AI-Powered Investment Recommendations:</strong> Integrate large language model AI to provide personalized investment recommendations with risk assessments and actionable suggestions</li>
<li><strong>Machine Learning Price Prediction:</strong> Implement custom ML models for property value and rent prediction</li>
<li><strong>Market Analytics:</strong> Add neighborhood-level market trend analysis</li>
<li><strong>Mobile Application:</strong> Develop native iOS and Android applications</li>
<li><strong>Multi-Property Comparison:</strong> Enable side-by-side comparison of multiple properties</li>
<li><strong>Integration with MLS:</strong> Connect to Multiple Listing Service for expanded property data</li>
<li><strong>International Support:</strong> Expand to support properties in other countries</li>
</ol>

<h2>References</h2>

<div class="reference">[1] National Association of Realtors, "Commercial Real Estate Market Trends Report," NAR Research, 2024. [Online]. Available: https://www.nar.realtor/research-and-statistics</div>

<div class="reference">[2] J. Smith and R. Johnson, "Technology adoption in real estate investment," <em>Journal of Real Estate Research</em>, vol. 45, no. 2, pp. 234-256, 2023.</div>

<div class="reference">[3] KPMG, "Global PropTech Investment Report 2023," KPMG International, 2023. [Online]. Available: https://kpmg.com/proptech</div>

<div class="reference">[4] M. L. Downie and G. Robson, "Automated Valuation Models: An International Perspective," <em>Journal of Property Investment & Finance</em>, vol. 25, no. 4, pp. 398-413, 2007.</div>

<div class="reference">[5] CoreLogic, "Automated Valuation Model Technical Documentation," CoreLogic Inc., 2023. [Online]. Available: https://www.corelogic.com/intelligence/avm</div>

<div class="reference">[6] Zillow Group, "Zestimate Methodology Documentation," 2024. [Online]. Available: https://www.zillow.com/z/zestimate/</div>

<div class="reference">[7] Redfin Corporation, "Redfin Estimate: How We Calculate Home Values," 2024. [Online]. Available: https://www.redfin.com/redfin-estimate</div>

<div class="reference">[8] BiggerPockets, "Real Estate Investing Resources," BiggerPockets Inc., 2024. [Online]. Available: https://www.biggerpockets.com/</div>

<div class="reference">[9] Mashvisor, "Real Estate Investment Analytics Platform," 2024. [Online]. Available: https://www.mashvisor.com/</div>

<div class="reference">[10] Consumer Financial Protection Bureau, "Qualified Mortgage Definition Under the Truth in Lending Act," CFPB, 12 CFR Part 1026, 2021.</div>

<div class="reference">[11] F. Fabozzi, "The Handbook of Mortgage-Backed Securities," 7th ed., Oxford University Press, 2016.</div>

<div class="reference">[12] K. Schwaber and J. Sutherland, "The Scrum Guide," Scrum.org, 2020. [Online]. Available: https://scrumguides.org/</div>

<div class="reference">[13] Next.js Documentation, "Getting Started with Next.js," Vercel Inc., 2024. [Online]. Available: https://nextjs.org/docs</div>

<div class="reference">[14] Prisma, "Prisma ORM Documentation," Prisma Data Inc., 2024. [Online]. Available: https://www.prisma.io/docs</div>

<div class="reference">[15] RentCast, "RentCast API Documentation," RentCast Inc., 2024. [Online]. Available: https://developers.rentcast.io/</div>

<div class="page-break"></div>

<h2>Appendix A: Screen Captures</h2>

<p>The following describes key screens in the RentPax application:</p>

<h4>A.1 Main Analysis Screen</h4>
<p>The main analysis screen provides address input with autocomplete, income and assumption settings, and displays comprehensive property analysis results including property photos, financial metrics, comparable properties, and interactive charts.</p>

<h4>A.2 Portfolio Dashboard</h4>
<p>The portfolio dashboard shows all saved properties with summary statistics (total value, total cash flow, average cap rate) and individual property cards with edit/delete capabilities.</p>

<h4>A.3 Financial Charts</h4>
<p>Four interactive charts provide visual analysis: (1) Cash Flow Chart showing income vs. expenses, (2) ROI Chart displaying cap rate and cash-on-cash return, (3) Expense Breakdown showing cost distribution, and (4) 30-Year Projection Chart showing long-term financial outlook.</p>

<h4>A.4 Comparable Properties Selector</h4>
<p>The comparable properties panel allows users to interactively select specific properties to include in rent analysis, with the ability to calculate average rent from selected comparables.</p>

<h2>Appendix B: Source Code Location</h2>

<p>The complete source code for RentPax is available at:</p>
<ul>
<li><strong>Repository:</strong> GitHub (private repository)</li>
<li><strong>Live Demo:</strong> https://rentpaxmvpplus.vercel.app</li>
<li><strong>Total Lines of Code:</strong> Approximately 2,200 lines of TypeScript/TSX</li>
</ul>

<p>Key source files:</p>
<ul>
<li>src/app/page.tsx - Main application page (273 lines)</li>
<li>src/lib/finance.ts - Financial calculations library (95 lines)</li>
<li>src/lib/projections.ts - 30-year projection calculations (80 lines)</li>
<li>src/services/rentcast.ts - RentCast API integration (220 lines)</li>
<li>src/services/export.ts - CSV/PDF export functionality (85 lines)</li>
<li>src/services/portfolio.ts - Portfolio CRUD operations (65 lines)</li>
<li>src/components/ - React components (1,100+ lines total)</li>
</ul>

</body>
</html>
